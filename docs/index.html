<!doctype html>
<html class="no-js b-Op" lang="en">
  <head>
    <meta charset="utf-8">
    <title>March</title>
    <meta content="Spring is here." name="description">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link sizes="57x57" rel="apple-touch-icon" href="/blog/img/favicon-57.png">
  <link sizes="76x76" rel="apple-touch-icon" href="/blog/img/favicon-76.png">
  <link sizes="120x120" rel="apple-touch-icon" href="/blog/img/favicon-120.png">
  <link sizes="152x152" rel="apple-touch-icon" href="/blog/img/favicon-152.png">
  <link sizes="167x167" rel="apple-touch-icon" href="/blog/img/favicon-167.png">
  <link sizes="180x180" rel="apple-touch-icon" href="/blog/img/favicon-180.png">
  <link sizes="192x192" rel="icon" href="/blog/img/favicon-192.png">
  <link sizes="128x128" rel="icon" href="/blog/img/favicon-128.png">
  <link sizes="32x32" rel="icon" href="/blog/img/favicon-32.png">
  <link
    href="https://fonts.googleapis.com/css?display=swap&amp;family=Ruda%3A400%2C700%7CGreat%20Vibes" rel="preload" as="fetch" crossOrigin>
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossOrigin>
    <link href="https://fonts.googleapis.com/css?family=Source%20Code%20Pro" rel="preload" as="style">
    <script>
      (function(b){var a=document.createElement("link");a.href=b;a.rel="stylesheet";a.crossOrigin="crossorigin";document.head.appendChild(a)})('https://fonts.googleapis.com/css?family=Source%20Code%20Pro')
    </script>
    <style id="cpt">
      
        h1 { font-family: 'Great Vibes' }
    
      @font-face {
        font-family: 'Great Vibes';
        font-style: normal;
        font-weight: 400;
        font-display: swap;
        src: local('Great Vibes'), local('GreatVibes-Regular'), url('data:application/font-woff2;base64,d09GMgABAAAAAAV4AA4AAAAACFQAAAUkAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGhYbIBwqBmAATBEICocYhi0LDAABNgIkAxQEIAWDegcgG+gGyMQo2qweJMLeecSLkDhEHdGIIhERznz5d/bEuORcc+8n4r9kX1zBgGvygz1gJID+fS4iNLJJZ7NhlciEbKJTsS1S8JdrGWYn9SAAJsGI8EBUmyB4DYgQgjAQtbbUCC8IWgNuN0u12GjEgrfflMG2ucMIYIA+80gYWQshwDvHswNYGVWR95GKf+aLCj29LDePhiXGdJYMemBdNHsO5BBLZvCrXVaJ4teQdWLbhrkjtfxIMyYGb8O9AB+AD/h6zgcCZG/N6jVlD5TowSBGNmRkPe6L7q3uUbeDrdu1BMTtxlSyCQNClPEGSJHm2MpwhEQ2/sS/hVcdKlJPi/eO911Cy1kjK7JHT5hZkd28xSa9SDFOZ9RFjuNqLBN2I2t8BNq0n7l5cdxGOXzBGk+JtBPEZuEsHGM6+gbjy2w85eM0HadlJ1nj7TJnJ2PhiM18YOKOny2Gcd7kpFeJzcx+Zsx3mva3T9yxn6N9j1NMrZ3YLJzlbgwHid/JSlZ754/EclV3kGJyHPTYJr8dIrvxnOwSHeWgGI7be/Cg/3baePHq+PjoKGgfltWzLGumKYaTXrRcTUtnS0+FbOS2baOPUwxnGfV1bDw2duzQMZ9T9jNbbMFbX/HnOE56kWJCHaCTWSPHcTaRnWWNDQxoGVu5mWKkR8e3jo9So6B9fDZuHBs7NHbIZ5/IHn9OZCe2JI4z2NlklqYY6Rayk2IO0z5Hk16xyT+6lEPnaFrDdH7qwNnbZg4mt+uHnwrTtSb2ZcnjVf4dGUvONI1p1w+9sjpbXj75wqyAreKaTlmWQev7XHTodwZf0dpJRKRXRj0bl90X2aXJV7YNnQ9qmHSz2/eNnZ7wGNTlPC/Jk/9aYrpsS1Xwfu0oS20Ks5YVGVUV1eY4V2PI09kzL80sE1rLoy9cljWPx6brp08YKmqsibZJ4ZrCuVnOgtyIFY3aFlB5zWVyc6ohfnaUfFFgSf2MgFNUjm5Nhtxs6v7yB8H0hOP/zTh5z/daaIbCYBinFLntnv7qwtzW34deUi1d5FP6qKMvoOGJlzBaWp9bGeOvqn/2xa6VOdEpofrwWXSyXJUs3Zrx9w8/lmP4nOuINN0vUtUaVbysXdUYT/cLLt2MKgwaDuAlSfl+1carue1kZri/VegtmWO6MH8wt6Zje+JwrKcoq7z5XmgpfmgyNMa3BMvn3pIEL/5gx2ux2cK1XvyZTU0NP+xO+NjkWO0X1/c4xtAY3xKqGWy7EGzQ3ZfoGiMCv/kjKCh8Mpnq79X0VDtqAcDb/ZZAwZ+OcPf/xMSbgxC3m2whLSAACJTHP6vPbpma/7sXxf8KAO6O7qgGgLvSGdewa8SjiV8DfI/a3yPNr3GN4KDQ6Rp2hXg0fYUAKeR/9VYwHd7kBfcmsAgnFQhhJISCd77QqXzYUS90/wU8Am/ZdkpHFiHw01XwPEzBA54PLd5bF3TzQgQRCe+BSJL/3SlIJ61QYQRWLMJs9KEHvZgLMWLRgTiIkYpkpCAVYhi1Siu6UAMNne/DXMggRilKoeI65nZF5qCLgIwcbZiLWCKGq7VxkGEyFjQXeiFGNfP4bMxHFzohhhYjGpbOlKMNQ3KvGBLoMBtd09SKYUYf2kXmasKElT2Yh0G0UawaI2SZTRkNElGqdc7DHHSgFwOw5GKOKdZzD24zC8fmoG9rtWKkIBHJzWNiY9q2hOVxmb1zYUUukpC0LC7ZYtVic5A44ftBJGIEs9GDJFRAi9L/v2zuch/FFNgAAAA=') format('woff2');
      }
      
    </style>
    <script>
      (function(){var b=/url\('([\s\S]+?)'\)/.exec(document.head.querySelector("#cpt").textContent);if(b){var a=document.createElement("link");a.rel="preload";a.as="font";a.href=b[1];document.head.appendChild(a)}})()
    </script>
    <script>(function(h,r){var a=Object.keys(h),c=!0;"CSS"in window&&"supports"in CSS?(a=a.reduce(function(k,b){var l=h[b];b=b.split("|");for(var m=!1,d={},f=0;f<b.length;d={a:d.a},f++)if(d.a=b[f],l.map(function(n){return function(e){e=e.split("|");for(var p=!1,g=0;g<e.length;g++){var q=e[g];if(CSS.supports(n.a,q)){p=!0;break}else k.push(n.a+": "+q)}return p}}(d)).filter(Boolean).length==l.length){m=!0;break}m||(c=!1);return k},[]),a.length?c&&console.log("\ud83d\udcbf Browser does not support CSS properties: %s",
a.join("\n "),"but supports alternatives."):console.log("\ud83d\udcbd Browser supports all modern CSS properties.")):(c=!1,console.log("\ud83d\udce0 Browser does not support CSS checks."));c||(a=document.createElement("link"),a.rel="stylesheet",a.href=r,document.head.appendChild(a))})({"border-radius":["2px"],"box-shadow":["none"],"flex|-ms-flex":["0 0 25%"],"display":["flex|-ms-flexbox"],"hyphens|-webkit-hyphens|-ms-hyphens":["auto"],"flex-shrink|-ms-flex-negative":["0"],"position":["sticky|-webkit-sticky"],"flex-wrap|-ms-flex-wrap":["wrap"],"box-sizing":["border-box"],"flex-direction|-ms-flex-direction":["column"]}, '/blog/css/combined-prefixes.css')</script>
    <script>
      (function(q,k){function x(a){for(var f=/url\((.+?)\).*?;\s+unicode-range: (.+?);/g,b={},d=[],h;h=f.exec(a);){var r=h[2];d.push({url:h[1],a:r});b[r]=1}b=Object.keys(b).reduce(function(c,e){var g=e.split(/,\s/).map(function(l){return l.replace("U+","\\u").replace("-","-\\u")}).join("").toLowerCase();c[e]=new RegExp("["+g+"]");return c},{});var t=document.body?document.body.textContent:"",y=t?Object.keys(b).reduce(function(c,e){b[e].test(t)&&(c[e]=!0);return c},{}):Object.keys(b).reduce(function(c,
      e){e in k&&(c[e]=!0);return c},{});m=d.filter(function(c){return c.a in y}).map(function(c){return c.url});if(!m.length)return u();var v=document.createDocumentFragment();m.forEach(function(c,e){var g=document.createElement("link");g.href=c;g.rel="preload";g.as="font";var l=e+1;;g.onload=function(){return u(l)};g.setAttribute("crossorigin",!0);v.appendChild(g)});document.head.appendChild(v)}k=void 0===k?{}:k;var n=document.createElement("link");if(function(a,
      f){if(!a||!a.supports)return!1;try{return a.supports(f)}catch(b){return!1}}(n.relList,"preload")){var z=function(a,f,b){b=void 0===b?"":b;;var d=new XMLHttpRequest;d.onreadystatechange=function(){4==d.readyState&&(200==d.status?(f(d.responseText)):console.error("Error loading webfont: server responded with code %s at %s",d.status,a))};d.open("GET",a);try{d.send(null)}catch(h){console.error(h)}};
      ;var p;(function(a,f){z(a.href,function(b){p=b;x(p)},"-"+(void 0===f?"link":f))})({href:q},"js");var m=[],w=0,u=function(a){w++;w>=m.length&&(a=document.createElement("style"),a.innerHTML=p,document.head.appendChild(a))}}else n.rel="stylesheet",n.href=q,document.head.appendChild(n)})('https://fonts.googleapis.com/css?display=swap&family=Ruda%3A400%2C700%7CGreat%20Vibes', {"U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD":true})
    </script>
    <link rel="stylesheet" href="/blog/css/combined.css">
    <link rel="preload" as="style" href="/blog/highlight.js/styles/default.css">
    <style>
      .no-js [data-io], .no-js .ImageHolder, .no-js [data-loading] { display: none!important }
    </style>
    <noscript>
      <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?display=swap&amp;family=Great%20Vibes&amp;text=Blog">
      <link rel="stylesheet" href="/blog/css/combined-prefixes.css">
      <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?display=swap&amp;family=Ruda%3A400%2C700%7CGreat%20Vibes">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source%20Code%20Pro">
    </noscript>
    <script defer src="/blog/js/polyfill/intersection-observer.js"></script>
    <script defer src="/blog/js/images.js"></script>
    <script crossorigin data-src="/blog/preact/dist/preact.min.js"></script>
    <script crossorigin data-src="/blog/comps/common.js"></script>
    <script crossorigin data-src="/blog/comps/index.js"></script>
    <script>
      document.documentElement.classList.remove("no-js")
    </script>
  </head>
  <body class="b-Mk b-Ol b-Op">
    
    
    <main class="b-Xl" role="main">
      <div class="b-z">
        <div class="b-B">
          <div class="left-column b-hb">
            <div class="b-kC">
            
                <img class="ImageHolder b-t b-vk" sizes="(max-width: 575.8px) 100vw,(max-width: 767.8px) 510px,(max-width: 991.8px) 150px,(max-width: 1199.8px) 210px,255px" alt="@artdeco/blog logo" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='2448' height='3264'/%3E">
                <noscript>
                  <picture>
                    <source
                      srcset="img/st-1140.webp 1140w,img/st-768.webp 768w,img/st-576.webp 576w,img/st-319.webp 319w"
                      sizes="(max-width: 575.8px) 100vw,(max-width: 767.8px) 510px,(max-width: 991.8px) 150px,(max-width: 1199.8px) 210px,255px" type="image/webp">
                    <img class="b-t b-vk" onLoad="webploaded(this)" alt="@artdeco/blog logo" src="/blog/img/st-1140.jpg" srcset="img/st-1140.jpg 1140w,img/st-768.jpg 768w,img/st-576.jpg 576w,img/st-319.jpg 319w" sizes="(max-width: 575.8px) 100vw,(max-width: 767.8px) 510px,(max-width: 991.8px) 150px,(max-width: 1199.8px) 210px,255px">
                  </picture>
                </noscript>
              </div>
              <div class="b-kC b-xq">
                <a title="Blog About Node.JS Development." class="GitHubBadge" id="cc3eb"
                  href="https://github.com/art-deco/blog">
                  <span class="a">GitHub</span><span class="b" data-stargazers>⭐️ 1</span></a>
                
                
                <a
                  title="Static Web Site Compiler That Uses Closure Compiler For JS Bundling And Closure Stylesheets For CSS optimisations. Supports JSX Syntax To Write Static Elements And Dynamic Preact Components." class="NPMBadge" href="https://www.npmjs.com/package/splendid">
                  <span class="a"><em>Splendid</em></span><span class="b">1.17.10</span></a>
              </div>
              <h3 id="pages-2020">Pages 2020</h3>
              <ul><li class="Active"><a data-file="index" href="/blog/">March</a></li><li class><a data-file="feb" href="/blog/february.html">February</a></li></ul>
              <div class="SideBarMenu sidebarshowing b-jr b-zp">
                <div class="a">
                  
                                  <h3 id="on-this-page">On This Page</h3>
                                  <ul class="OnThisPage"><li data-heading="2-march-mon"><a href="#2-march-mon">2 March Mon</a></li><li data-heading="1-march-sun"><a href="#1-march-sun">1 March Sun</a></li></ul>
                                  <span class="b-xq b-Hk" id="c93ef"><span class="b-Hk" style="height:32px" data-loading>Loading sharing buttons...</span><noscript>Please enable JavaScript to Share</noscript></span>
                                
                </div>
                <a id="HideMenu" style="color:grey!important;" href="#">hide menu</a>
                <a id="ShowMenu" style="color:grey!important;" href="#">show menu</a>
              </div>
          </div>
          
          <div class="right-column b-xq b-nb" id="Content">
            
            
            <h1 id="blog">Blog</h1>
            
            <p>This is the main page. Hello world!</p>
            
            <p>Blog About Node.JS Development.</p>
            
            <span id="ceb55">
              Please bear one moment while I add the content
            </span>
            
            <p class="SectionBreak">
              <a title="Back To Top" href="#top">
                <img alt="section break"
                  src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='15'/%3E" data-io>
                <noscript><img alt="section break" src="/blog/section-breaks/0.svg"></noscript></a>
            </p>
            
            <div data-section id="2-march-mon">
            <h2>2 March Mon</h2>
            
            <p>Working on the content for the website. In the morning, I started answering <em>StackOverflow</em> questions. I think a little bit of time in the morning is good for a warm up, and helping somebody is definitely a way to keep positive as it can really mean a difference to others who can benefit from your experience.</p>
            
            <p>Program-wise, I wanted to implement a gif-video component for www.idio.cc, so that a large 400kb can be converted into a movie automatically with ffmpeg, and lazy-loaded. Chrome lazy-loads videos by itself, but other browsers might not do it, so we first load a placeholder, and then a video on top of it when the component is scrolled into view.</p>
            
            <p>
              <div style="position:relative;" id="c8d0e">
                <img class="ImageHolder b-t" sizes="(max-width: 575.8px) 100vw,(max-width: 991.8px) 540px,(max-width: 1199.8px) 720px,855px" alt="fire animation" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='1070' height='550'/%3E">
                <noscript>
                  <picture>
                    <source
                      srcset="pages/index/img/fire-768.webp 768w,pages/index/img/fire-576.webp 576w,pages/index/img/fire-319.webp 319w,pages/index/img/fire-1070.webp 1070w" sizes="(max-width: 575.8px) 100vw,(max-width: 991.8px) 540px,(max-width: 1199.8px) 720px,855px"
                      type="image/webp">
                    <img class="b-t" onLoad="webploaded(this)" alt="fire animation" src="/blog/pages/index/img/fire-768.jpg" srcset="pages/index/img/fire-768.jpg 768w,pages/index/img/fire-576.jpg 576w,pages/index/img/fire-319.jpg 319w,pages/index/img/fire-1070.jpg 1070w" sizes="(max-width: 575.8px) 100vw,(max-width: 991.8px) 540px,(max-width: 1199.8px) 720px,855px">
                  </picture>
                </noscript>
              </div>
            </p>
            
            <p>After doing this, I needed an API from <em>Splendid</em> to extract image width and height, which was implemented by but as a private function before, so I made it available. A few more bugs with paragraphs were fixed. The width of webp images isn't increasing above original width as was happening before, because the "sizes" attribute could include width even larger that the original image. Web components are now published in a separate package because they don't update as often as source code, yet are 500KB in size so each time I republished, it was taking up unnecessary space.</p>
            
            <ul>
              <li><span class="tm">webp</span> = web picture</li>
              <li><span class="tm">webm</span> = web movie</li>
            </ul>
            
            <p>I've been writing the article about pure hot reload. Went on talking about new "open source" vendor lock since webpack is now COMPULSORY, yet it's made of 350 dependencies which is mind-blowing under normal circumstances, but because of transvalued principle of software, it's absolutely ok and nobody is noticing. So I was a bit negative about it. For some tests, looked up <a href="https://www.azquotes.com/author/38027-Zoroaster">Zoroaster quotes</a>. It brought quite mixed feelings. On the one hand, he's about good thoughts / words/ deeds:</p>
            
            <blockquote class="b-r">
              Turn yourself not away from three best things: Good Thought, Good Word, and Good Deed.
            </blockquote>
            
            <blockquote class="b-r">
              Always meet petulance with gentleness and perverseness with kindness. A gentle hand can lead even en elephant by a hair. Reply to thine enemy with gentleness.
            </blockquote>
            
            <p>Which is good as it's making you operate from the rational part of the brain, rather than emotional and the one that's fighting for survival (hate, anger).</p>
            
            <p>On the other hand,</p>
            
            <blockquote class="b-r">
              War and courage have done more great things than charity. Not your sympathy, but your bravery has saved the unfotunate.
            </blockquote>
            <blockquote class="b-r">
              You shall love peace as a means to new wars - and the short peace more than the long.
            </blockquote>
            
            <p>I feel like those are not by Zoroaster actually, but from Nietzschean Zarathustra 😄 There's a lot of courage and war waging in Nietzsche, which seems to be opposite of peaceful Zoroaster, although I might not know enough about the latter. Still what I'm trying to figure out if it's OK to talk about things I don't like in a way that I want to, or not and I should be more chilled out about it.</p>
            
            <p>"When we are in doubt whether an action is good or bad, abstain from it." Zeus's mother taught him not to make enemies but friends instead. Tao is about helping others in a way that in the end they say, "we did it ourselves" and not making anyone upset as it's going to bring imbalance. On the other hand, it's all philology. Real world is rock-solid and if people weren't taking enough responsibility why they're not expecting to be told off? That's where right wing comes in, to be able to ask hard questions and express oneself in a way that is appropriate to the level of feelings that I have if they're justified. Have I taken enough responsibility?</p>
            
            <p class="SectionBreak">
              <a title="Back To Top" href="#top">
                <img alt="section break"
                  src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='13'/%3E" data-io>
                <noscript><img alt="section break" src="/blog/section-breaks/1.svg"></noscript></a>
            </p>
            </div>
            
            <div data-section id="1-march-sun">
            <h2>1 March Sun</h2>
            
            <p>A lot of sleeping today. Listening to Zoroastrian prayers on iPhone, it's pretty chilled. One of the main principles of Tao is <span class="tm">Pu</span>: a Chinese word meaning "unworked wood". The mind is the one that discriminates while in reality things are unworked. But if I can just listen to beautiful Avestian while not getting my head stuffed with other shit prevalent in religion, others take it too seriously. This is to the point, if I like Avestian, don't others who are passionate about other stuff, deserve to listen to what they like? One thing is to just listen to some calming speech you don't understand, another one is to get stuck around fake concepts. But to each his own, isn't.</p>
            
            <p>Worked more on frontend and enabled hot reload for CSS and standard JS files. Integrated it into <em>Idio</em> with documentation. Moreover, <em>Idio</em> now also receives <em>JSON Body</em> middleware to parse incoming JSON requests easily. Started to make <span class="tm">idio</span> website. Found a bug on GitHub that prevents you from adding a WWW domain if you've set up an apex domain already (e.g., I had idio.cc so I couldn't set up www.idio.cc). The website doesn't work from Canada because cc domain doesn't get resolved which isn't great.</p>
            
            <p>Updated <em>Splendid</em> template for Idio, as well as made changes to <em>Splendid</em> itself to include closure-stylesheets as STDLIB. Fixed paragraphs extraction which wasn't forking properly before. An interesting point is that regexes are sticky, which prevents matching multiple consecutive paragraphs</p>
            
            <pre id="c1953"><code class="markdown hljs">We want to match

-- start

Paragraph 1: Hello world

Paragraph 2: Foo Bar

-- end</code></pre>
            
            <pre id="ccdbf"><code class="javascript hljs">// regex to match this:
const regex = /\n\n[^\s&lt;][\s\S]+\n\n/</code></pre>
            
            <p>The regex makes sense, but because the first match will end with <span class="tm">\n\n</span>, they won't be included for the next match which means the paragraph won't be detected. The example is simplified, but it conveys the point. The work around is<span id="c06ef"></span></p>
            
            <p>To simply run the regex twice :) Because we don't want to match tags (<span class="tm">[^&lt;]</span>), the first pass will create a paragraph tag <span class="tm">&lt;p&gt;Hello World&lt;/p&gt;</span>, but the second time it will remain unmatched, so that the next paragraph can be detected. It's good it's working properly now.</p>
            
            <p class="SectionBreak">
              <a title="Back To Top" href="#top">
                <img alt="section break"
                  src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='13'/%3E" data-io>
                <noscript><img alt="section break" src="/blog/section-breaks/2.svg"></noscript></a>
            </p>
            </div>
          </div>
        </div>
      </div>
    </main>
    <footer class="b-ns">
      &copy; <a href="https://www.artd.eco">Art Deco™</a>, 2020
    </footer>
    <script>(function(){function b(){if(0<c.length){var a=c.shift();a.src=a.getAttribute("data-src");a.removeAttribute("data-src");a.onload=b;a.onerror=function(){console.warn("Could not load script %s",a.src)}}}var c=Array.prototype.slice.call(document.querySelectorAll("script[data-src]"));b()})()</script>
  </body>
</html>